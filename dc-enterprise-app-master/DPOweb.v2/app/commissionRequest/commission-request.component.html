<project-tabs [user]="user"></project-tabs>

<div *ngIf="!commissionRequest" style="padding:10px;">
    <!--<span class="k-icon k-i-loading" style="width:100%; font-size:32px;"></span>-->
</div>

<div id="main-container" *ngIf="commissionRequest" class='container-fluid'>
   
    <!--<div>Project Id: {{projectId}}</div>
    <div>Quote Id: {{quoteId}}</div>
    <div>Commission request Id: {{commissionRequestId}}</div>-->
    <ul class="breadcrumbs">
        <li><a href="/v2/#/projects">Projects</a></li>
        <li><a href="/v2/#/project/{{commissionRequest.projectId}}">{{commissionRequest.project.name}}</a></li>
        <li><a href="/v2/#/quote/{{commissionRequest.quoteId}}/existingRecord">{{commissionRequest.quote.title}}</a></li>
        <li>Commission Authorization Request (CR)</li>
    </ul>

    <div>
        <div class="pull-right">
            <button class="btn btn-default" data-toggle="modal" data-target="#printModal"><span class="glyphicon glyphicon-print"></span> Print Request</button>
            <button class="btn btn-default" data-toggle="modal" data-target="#exportModal"><span class="k-icon k-i-file-excel"></span> Export Request</button>
        </div>
        <h3>COMMISSION  AUTHORIZATION REQUEST</h3>
    </div>

    <div>

        <h4 [ngSwitch]="commissionRequest.commissionRequestStatusTypeId">
            <span *ngSwitchCase="0">NEW REQUEST</span>
            <span *ngSwitchCase="2">STATUS: PENDING</span>
            <span *ngSwitchCase="4">STATUS: REJECTED</span>
            <span *ngSwitchCase="6">STATUS: APPROVED</span>
            <span *ngSwitchCase="8">STATUS: DELETED</span>
        </h4>

    </div>

    <div class="commissionRequestForm">
        <form #commissionRequestForm="ngForm" novalidate>
            <fieldset>
                <legend>PROJECT SYSTEMS AND COMPETITIVE POSITION OF OPPORTUNITY</legend>
                <!--Project Details-->
                <!--<fieldset>
                    <legend>Project Details</legend>-->

                <div class="row no-gutters" style="padding: 0px 0px 10px 0px;">
                    <div class="col-md-11 col-xs-12">
                        <h5>Project Details</h5>
                    </div>
                </div>

                <div class="row no-gutters">
                    <div class="hidden-xs col-md-1"></div>
                    <div class="col-md-5 col-xs-12">
                        <div class="col-md-6 col-xs-12 as-lnk">Project Name: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.name}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Project Reference: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.projectId}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Registration Date: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.projectDate  | date: 'shortDate'}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Bid Date: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.bidDate | date: 'shortDate'}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Estimated Close: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.estimatedClose | date: 'shortDate'}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Estimated Delivery: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.estimatedDelivery | date: 'shortDate'}}</div>
                    </div>
                    <div class="col-md-5 col-xs-12">
                        <div class="col-md-6 col-xs-12 as-lnk">Construction Type: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.constructionTypeDescription}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Project Status: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.projectStatusDescription}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Project Type: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.projectTypeDescription}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Project Open Status: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.projectOpenStatusDescription}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Vertical Market: </div> 
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.verticalMarketDescription}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Project Status Notes: </div>
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.description}}</div>
                    </div>
                    <div class="hidden-xs col-md-1"></div>
                </div>
                <!--</fieldset>-->
                <!--Shipping Address/Project location-->
                <!--<fieldset>
                <legend>Shipping Address/Project location</legend>-->

                <div class="row no-gutters" style="padding: 10px 0px;">
                    <div class="col-md-11 col-xs-12">
                        <h5>Shipping Address/Project location</h5>
                    </div>
                </div>

                <div class="row no-gutters">
                    <div class="col-md-1 hidden-xs"></div>
                    <div class="col-md-1 visible-xs pull-right">
                        <div><span class="glyphicon glyphicon-pencil">
                            </span><a data-toggle="modal" data-target="#editShipToAddressModal" data-backdrop="static"> Edit</a>
                        </div>
                    </div>

                    <div class="col-md-5 col-xs-12">
                        <div class="col-md-6 col-xs-12 as-lnk">Business Name: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.shipToName; else elseBlock">
                            {{commissionRequest.project.shipToName}}
                        </div>
                        <input type="text" style="display:none;" 
                               class="form-control" required 
                               [(ngModel)]="commissionRequest.project.shipToName" 
                               name="shipToName" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Country: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.shipToAddress.countryCode; else elseBlock">
                            {{commissionRequest.project.shipToAddress.countryCode}}
                        </div>
                        <input type="text" style="display:none;" 
                               class="form-control" required 
                               [(ngModel)]="commissionRequest.project.shipToAddress.countryCode" 
                               name="shipToAddressCountryCode" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Address Line 1: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.shipToAddress.addressLine1; else elseBlock">{{commissionRequest.project.shipToAddress.addressLine1}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.shipToAddress.addressLine1" name="shipToAddressAddressLine1" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Address Line 2: </div>
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.shipToAddress.addressLine2}}</div>
                    </div>


                    <div class="col-md-5 col-xs-12">
                        <div class="col-md-6 col-xs-12 as-lnk">Location: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.shipToAddress.location; else elseBlock">{{commissionRequest.project.shipToAddress.location}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.shipToAddress.location" name="shipToAddressLocation" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">State: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.shipToAddress.stateName; else elseBlock">{{commissionRequest.project.shipToAddress.stateName}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.shipToAddress.stateName" name="shipToAddressStateName" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Zip Code: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.shipToAddress.postalCode; else elseBlock">{{commissionRequest.project.shipToAddress.postalCode}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.shipToAddress.postalCode" name="shipToAddressPostalCode" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Square Footage: </div> <div class="col-md-6 col-xs-12">{{commissionRequest.project.squareFootage}}</div>
                        <div class="col-md-6 col-xs-12 as-lnk">Number Of Floors: </div> <div class="col-md-6 col-xs-12">{{commissionRequest.project.numberOfFloors}}</div>
                    </div>
                    <div class="col-md-1 hidden-xs">
                        <div><span class="glyphicon glyphicon-pencil"></span><a data-toggle="modal" data-target="#editShipToAddressModal" data-backdrop="static"> Edit</a></div>
                    </div>
                </div>

                <!--</fieldset>-->
                <!--Dealer/Contractor-->
                <!--<fieldset>
                <legend>Dealer/Contractor</legend>-->

                <div class="row no-gutters" style="padding: 10px 0px;">
                    <div class="col-md-11 col-xs-12">
                        <h5>Dealer/Contractor</h5>
                    </div>
                </div>

                <div class="row no-gutters">
                    <div class="hidden-xs col-md-1"></div>

                    <div class="visible-xs col-md-1 pull-right">
                        <div><span class="glyphicon glyphicon-pencil"></span><a data-toggle="modal" data-target="#editCustomerAddressModal" data-backdrop="static"> Edit</a></div>
                    </div>

                    <div class="col-md-5 col-xs-12">
                        <div class="col-md-6 col-xs-12 as-lnk">Dealer/Contractor Name: </div>
                        <div class="col-md-6 col-xs-12" required *ngIf="commissionRequest.project.dealerContractorName; else elseBlock">{{commissionRequest.project.dealerContractorName}}</div>

                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.dealerContractorName" name="dealerContractorName" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Business Name: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.customerName; else elseBlock">{{commissionRequest.project.customerName}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.customerName" name="customerName" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Country: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.customerAddress.countryCode; else elseBlock">{{commissionRequest.project.customerAddress.countryCode}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.customerAddress.countryCode" name="customerAddressCountryCode" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Address Line 1: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.customerAddress.addressLine1; else elseBlock">{{commissionRequest.project.customerAddress.addressLine1}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.customerAddress.addressLine1" name="customerAddressAddressLine1" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Address Line 2: </div>
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.customerAddress.addressLine2}}</div>
                    </div>


                    <div class="col-md-5 col-xs-12">
                        <div class="col-md-6 col-xs-12 as-lnk">Location: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.customerAddress.location; else elseBlock">{{commissionRequest.project.customerAddress.location}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.customerAddress.location" name="customerAddressLocation" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">State: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.customerAddress.stateName; else elseBlock">{{commissionRequest.project.customerAddress.stateName}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.customerAddress.stateName" name="customerAddressStateName" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Zip Code: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.customerAddress.postalCode; else elseBlock">{{commissionRequest.project.customerAddress.postalCode}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.customerAddress.postalCode" name="customerAddressPostalCode" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>
                    </div>
                    <div class="col-md-1 hidden-xs">
                        <div><span class="glyphicon glyphicon-pencil"></span><a data-toggle="modal" data-target="#editCustomerAddressModal" data-backdrop="static"> Edit</a></div>
                    </div>
                </div>

                <!--</fieldset>-->
                <!--Seller-->
                <!--<fieldset>
                <legend>Seller</legend>-->

                <div class="row no-gutters" style="padding: 10px 0px;">
                    <div class="col-md-11 col-xs-12">
                        <h5>Seller</h5>
                    </div>
                </div>

                <div class="row no-gutters">
                    <div class="hidden-xs col-md-1"></div>

                    <div class="visible-xs col-md-1 pull-right">
                        <div><span class="glyphicon glyphicon-pencil"></span><a data-toggle="modal" data-target="#editSellerAddressModal" data-backdrop="static"> Edit</a></div>
                    </div>

                    <div class="col-md-5 col-xs-12">
                        <div class="col-md-6 col-xs-12 as-lnk">Business Name: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.sellerName; else elseBlock">{{commissionRequest.project.sellerName}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.sellerName" name="sellerName" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Country: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.sellerAddress.countryCode; else elseBlock">{{commissionRequest.project.sellerAddress.countryCode}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.sellerAddress.countryCode" name="sellerAddress.countryCode" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Address Line 1: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.sellerAddress.addressLine1; else elseBlock">{{commissionRequest.project.sellerAddress.addressLine1}}</div>

                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.sellerAddress.addressLine1" name="sellerAddress.addressLine1" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Address Line 2: </div>
                        <div class="col-md-6 col-xs-12">{{commissionRequest.project.sellerAddress.addressLine2}}</div>
                    </div>


                    <div class="col-md-5 col-xs-12">
                        <div class="col-md-6 col-xs-12 as-lnk">Location: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.sellerAddress.location; else elseBlock">{{commissionRequest.project.sellerAddress.location}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.sellerAddress.location" name="sellerAddress.location" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">State: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.sellerAddress.stateName; else elseBlock">{{commissionRequest.project.sellerAddress.stateName}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.sellerAddress.stateName" name="sellerAddress.stateName" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                        <div class="col-md-6 col-xs-12 as-lnk">Zip Code: </div>
                        <div class="col-md-6 col-xs-12" *ngIf="commissionRequest.project.sellerAddress.postalCode; else elseBlock">{{commissionRequest.project.sellerAddress.postalCode}}</div>
                        <input type="text" style="display:none;" class="form-control" required [(ngModel)]="commissionRequest.project.sellerAddress.postalCode" name="sellerAddress.postalCode" />
                        <ng-template #elseBlock>
                            <div style="color:red; font-style:italic">This field is required</div>
                        </ng-template>

                    </div>
                    <div class="col-md-1 hidden-xs">
                        <div><span class="glyphicon glyphicon-pencil"></span><a data-toggle="modal" data-target="#editSellerAddressModal" data-backdrop="static"> Edit</a></div>
                    </div>
                </div>

                <!--</fieldset>-->
                <!--<fieldset>
                <legend>PROJECT SYSTEMS AND COMPETITIVE POSITION OF OPPORTUNITY</legend>-->

                <hr />

                <div class="row no-gutters">
                    <div class="form-group col-md-6">
                        <label class="control-label required">Project System Basis Of Design</label>
                        <select class="form-control" required
                                [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                [(ngModel)]="commissionRequest.systemBasisDesignTypeId" name="systemBasisDesignType">
                            <option [value]="null" selected disabled>Select ...</option>
                            <option *ngFor="let item of commissionRequest.systemBasisDesignTypes.items"
                                    [value]="item.value">
                                {{item.text}}
                            </option>
                        </select>
                    </div>

                    <div class="form-group col-md-6">
                        <label class="control-label required">Zone Strategy</label>
                        <select class="form-control" required
                                [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                [(ngModel)]="commissionRequest.zoneStrategyTypeId" name="zoneStrategyType">
                            <option [value]="null" selected disabled>Select ...</option>
                            <option *ngFor="let item of commissionRequest.zoneStrategyTypes.items"
                                    [value]="item.value">
                                {{item.text}}
                            </option>
                        </select>
                    </div>

                    <div class="form-group col-md-6">
                        <label class="control-label required">Select Brand Specified</label>
                        <select class="form-control" required
                                [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                [(ngModel)]="commissionRequest.brandSpecifiedTypeId" name="brandSpecifiedType">
                            <option [value]="null" selected disabled>Select ...</option>
                            <option *ngFor="let item of commissionRequest.brandSpecifiedTypes.items"
                                    [value]="item.value">
                                {{item.text}}
                            </option>
                        </select>
                    </div>

                    <div class="form-group col-md-6">
                        <label class="control-label required">Select Approved Equals</label>
                        <select class="form-control" required
                                [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                [(ngModel)]="commissionRequest.brandApprovedTypeId" name="brandApprovedType">
                            <option [value]="null" selected disabled>Select ...</option>
                            <option *ngFor="let item of commissionRequest.brandApprovedTypes.items"
                                    [value]="item.value">
                                {{item.text}}
                            </option>
                        </select>
                    </div>

                    <div class="form-group col-md-6">
                        <label class="control-label required">Funding Type</label>
                        <select class="form-control" required
                                [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                [(ngModel)]="commissionRequest.fundingTypeId" name="FundingType">
                            <option [value]="null" selected disabled>Select ...</option>
                            <option *ngFor="let item of commissionRequest.fundingTypes.items"
                                    [value]="item.value">
                                {{item.text}}
                            </option>
                        </select>
                    </div>

                </div>

                <hr />
                <div class="row no-gutters">
                    <div class="form-group col-md-6">
                        <p class="control-label">Is a copy of competitors price to customer available?</p>
                        <kendo-switch [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                      [(ngModel)]="commissionRequest.hasCompetitorPrice"
                                      [onLabel]="'Yes'"
                                      [offLabel]="'No'"
                                      name="hasCompetitorPrice"></kendo-switch>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="control-label" [ngClass]="{'required': commissionRequest.hasCompetitorPrice}">Enter Competitor Price</label>
                        <!--<input type="number" class="form-control" [(ngModel)]="commissionRequest.competitorPrice" name="competitorPrice" />-->
                        <kendo-numerictextbox id="competitorPrice" class="form-control"
                                              [disabled]="!commissionRequest.hasCompetitorPrice || commissionRequest.commissionRequestStatusTypeId != 0"
                                              [required]="commissionRequest.hasCompetitorPrice"
                                              [format]="'c0'"
                                              [min]="0"
                                              [(ngModel)]="commissionRequest.competitorPrice" name="competitorPrice">
                        </kendo-numerictextbox>
                    </div>
                </div>

                <hr />

                <!--Competitor Quote File-->
                <div class="row no-gutters">
                    <div class="form-group col-md-6">
                        <p class="control-label">Is a copy of competitors quote to customer available?</p>
                        <kendo-switch [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                      [(ngModel)]="commissionRequest.hasCompetitorQuote"
                                      [onLabel]="'Yes'"
                                      [offLabel]="'No'"
                                      name="hasCompetitorQuote"></kendo-switch>
                    </div>
                    <div class="form-group col-md-6" *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                        <label class="control-label" [ngClass]="{'required': commissionRequest.hasCompetitorQuote}">Attach Copy Of Competitors Quote</label>


                        <kendo-upload [disabled]="!commissionRequest.hasCompetitorQuote"
                                      [required]="commissionRequest.hasCompetitorQuote"
                                      [autoUpload]="true"
                                      [saveUrl]="'/api/commissionRequest/UploadCompetitorQuoteFile'"
                                      [multiple]="false"
                                      [(ngModel)]="competitorQuoteFiles"
                                      name="competitorQuoteFile"
                                      (select)="selectCompetitorQuoteFile($event)"
                                      (upload)="uploadEventHandler($event)"
                                      [withCredentials]="true"
                                      (success)="successEventHandler($event)"
                                      (error)="errorEventHandler($event)">
                        </kendo-upload>
                    </div>
                    <div class="form-group col-md-6" *ngIf="commissionRequest.commissionRequestStatusTypeId != 0 && commissionRequest.hasCompetitorQuote">
                        <label class="control-label">Competitors quote attached</label>
                        <div>
                            <a href="/document/dar/{{commissionRequest.quoteId}}/?filename={{commissionRequest.competitorQuoteFileName}}" target="_blank">
                                {{commissionRequest.competitorQuoteFileName}}
                            </a>
                        </div>
                    </div>
                </div>

                <hr />

            </fieldset>

            <!--Standard Discount-->
            <fieldset>
                <legend>REP/DISTRIBUTOR AND DAIKIN INFORMATION AND COSTING FOR OPPORTUNITY</legend>

                <div class="dactbl-heading border-bottom">Total net price based on standard multiplier(s)</div>
                <hr class="no-margin" />
                <div class="row no-gutters border-bottom">
                    <div class="col-md-7 col-xs-12 padding-15">Total Listed Value Of This Project Offering</div>
                    <div class="col-md-5 col-xs-12 padding-15 bluecell">{{commissionRequest.standardTotals.totalList | currency:'USD':true:'1.2-2'}}</div>
                </div>

                <div class="row no-gutters border-bottom">
                    <div class="col-md-7 col-xs-12 padding-15">Total Net (VRV-GNA + RA-QA + Unitary + LC Package)</div>
                    <div class="col-md-5 col-xs-12 padding-15 bluecell">
                        {{commissionRequest.standardTotals.totalNet | currency:'USD':true:'1.2-2'}}
                        ({{commissionRequest.standardTotals.totalNetVRV | currency:'USD':true:'1.2-2'}} +
                        {{commissionRequest.standardTotals.totalNetSplit | currency:'USD':true:'1.2-2'}} +
                        {{commissionRequest.standardTotals.totalNetUnitary | currency:'USD':true:'1.2-2'}} +
                        {{commissionRequest.standardTotals.totalNetLCPackage | currency:'USD':true:'1.2-2'}})
                    </div>
                </div>


                <div class="row no-gutters border-bottom">
                    <div class="col-md-7 col-xs-12 padding-15">Start up / Commissioning costs</div>
                    <div class="col-md-5 col-xs-12 padding-15 bluecell">
                        <kendo-numerictextbox [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                              [format]="'c0'"
                                              [min]="0"
                                              [(ngModel)]="commissionRequest.startUpCosts" name="startUpCosts"
                                              (ngModelChange)="startupCostChange()">
                        </kendo-numerictextbox>
                    </div>
                </div>

                <div class="row no-gutters border-bottom">
                    <div class="col-md-7 col-xs-12 padding-15">Other Third party costs</div>
                    <div class="col-md-5 col-xs-12 padding-15 bluecell">
                        <kendo-numerictextbox [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                              [format]="'c0'"
                                              [min]="0"
                                              [(ngModel)]="commissionRequest.thirdPartyEquipmentCosts" name="thirdPartyEquipmentCosts"
                                              (ngModelChange)="thirdPartyEquipmentCostsChange()">
                        </kendo-numerictextbox>
                    </div>
                </div>


            </fieldset>

            <!--Commission calculation-->
            <fieldset>
                <legend>REQUESTED SELL MULTIPLIER AND COMMISSION CALCULATION</legend>

                <div class="dactbl-heading border-bottom">Total net price based on requested commissions</div>

                <div class="row no-gutters" *ngIf="canApproveCommissions && commissionRequest.commissionRequestStatusTypeId == 2">
                    <div class="pull-right">
                        <input type="checkbox" [(ngModel)]="commissionManuallyInput" name="commissionManuallyInput" /> Manually Enter Commission <br />
                    </div>
                </div>
                <!-----------------VRV----------------->
                <!--TODO: should add missing Commission Percentages for Multiplier 0.201 -> 2.369 in database to avoid confusion-->
                <hr class="no-margin">

                <div class="row row-eq-height" *ngIf="commissionRequest.approvedTotalsCommission.totalListVRV > 0" style="padding-left:15px; padding-right:15px;">

                    <div class="col col-xs-12 col-md-4 commission-form-left-section">
                        <!--New Request-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                            <div>Enter sell multiplier for VRV and Accessories in this opportunity.</div>
                            <div>
                                <kendo-numerictextbox name="requestedMultiplierVRV"
                                                      [(ngModel)]="commissionRequest.requestedMultiplierVRV"
                                                      [min]="0.2" [max]="1.5" [step]="0.001" [decimals]="3" [format]="'n3'" [autoCorrect]="false"
                                                      (ngModelChange)="calculateDiscountAmountVRV($event)">
                                </kendo-numerictextbox>
                            </div>
                            <div style="color:gray; font-style:italic">Please enter the range between 0.2 and 1.5</div>
                        </div>

                        <!--Pending-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2 || commissionRequest.commissionRequestStatusTypeId == 4">
                            <div *ngIf="canApproveCommissions; else elseBlock">
                                <div>Enter sell multiplier for VRV and Accessories in this opportunity.</div>
                                <div>
                                    <kendo-numerictextbox name="requestedMultiplierVRV"
                                                          [(ngModel)]="commissionRequest.requestedMultiplierVRV"
                                                          [min]="0.2" [max]="1.5" [step]="0.001" [decimals]="3" [format]="'n3'" [autoCorrect]="false"
                                                          (ngModelChange)="calculateDiscountAmountVRV($event)">
                                    </kendo-numerictextbox>
                                </div>
                                <div style="color:gray; font-style:italic">Please enter the range between 0.2 and 1.5</div>
                            </div>
                            <ng-template #elseBlock>
                                <div>Requested sell multiplier for VRV and Accessories in this opportunity.</div>
                                <div>{{commissionRequest.requestedMultiplierVRV}}</div>
                            </ng-template>
                        </div>

                        <!--approved-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                            <div>Approved sell multiplier for VRV and Accessories in this opportunity.</div>
                            <div>{{commissionRequest.approvedMultiplierVRV}}</div>
                        </div>


                    </div>
                    <div class="col col-xs-12 col-md-8 commission-form-right-section">
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Total List</label>
                                <div>{{commissionRequest.approvedTotalsCommission.totalListVRV | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Purchase Order Amount</label>
                                <div>{{commissionRequest.totalNetVRV | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <!--New Record-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                                    <label>Commission Percent</label>
                                    <!--<div>{{commissionRequest.requestedCommissionPercentageVRV | number: '1.0-3'}}%</div>-->
                                    <div>{{commissionRequest.requestedCommissionPercentageVRV | percent : '1.0-4'}}</div>
                                </div>

                                <!--Pending-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2">
                                    <div *ngIf="canApproveCommissions; else elseBlock">
                                        <label>Commission Percent</label>
                                        <div>
                                            <!--<input type="number" style="width:60px;" required
                                                   [attr.disabled]="commissionManuallyInput? null : 'disabled'"
                                                   [(ngModel)]="commissionRequest.requestedCommissionPercentageVRV"
                                                   name="requestedCommissionPercentageVRV"
                                                   (ngModelChange)="commissionPercentageVRVChange($event)" />%-->
                                            <kendo-numerictextbox [attr.disabled]="commissionManuallyInput? null : 'disabled'" style="width:90px;"
                                                                  [(ngModel)]="commissionRequest.requestedCommissionPercentageVRV"
                                                                  name="requestedCommissionPercentageVRV"
                                                                  [min]="0" [max]="1" [step]="0.0001" [decimals]="4" [format]="'p'"
                                                                  (ngModelChange)="commissionPercentageVRVChange($event)">
                                            </kendo-numerictextbox>
                                        </div>
                                    </div>
                                    <ng-template #elseBlock>
                                        <label>Commission Percent</label>
                                        <!--<div>{{commissionRequest.requestedCommissionPercentageVRV | number: '1.0-3'}}%</div>-->
                                        <div>{{commissionRequest.requestedCommissionPercentageVRV | percent : '1.0-4'}}</div>
                                    </ng-template>
                                </div>

                                <!--Approved-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                    <label>Commission Percent</label>
                                    <div>{{commissionRequest.approvedCommissionPercentageVRV | percent: '1.0-4'}}</div>
                                </div>
                            </div>

                            <div class="col col-xs-12 col-md-12">
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId != 6">
                                    <label>Commission Amount</label>
                                    <div>{{commissionRequest.requestedCommissionVRV | currency:'USD':true:'1.2-2'}}</div>
                                </div>

                                <!--Approved-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                    <label>Commission Amount</label>
                                    <div>{{commissionRequest.approvedCommissionVRV | currency:'USD':true:'1.2-2'}}</div>
                                </div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value Multiplier</label>
                                <div>{{commissionRequest.requestedNetMaterialMultiplierVRV | number: '1.0-3'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value</label>
                                <div>{{commissionRequest.requestedNetMaterialValueVRV | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-----------------Ductless----------------->
                <hr class="no-margin">
                <div class="row row-eq-height" *ngIf="commissionRequest.approvedTotalsCommission.totalListSplit > 0" style="padding-left:15px; padding-right:15px;">
                    <div class="col col-xs-12 col-md-4 commission-form-left-section">
                        <!--New Request-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                            <div>Enter sell multiplier for Ductless in this opportunity?</div>
                            <div>
                                <kendo-numerictextbox name="requestedMultiplierSplit"
                                                      [(ngModel)]="commissionRequest.requestedMultiplierSplit"
                                                      [min]="0.35" [max]="1.5" [step]="0.001" [decimals]="3" [format]="'n3'" [autoCorrect]="false"
                                                      (ngModelChange)="calculateDiscountAmountSplit($event)">
                                </kendo-numerictextbox>
                            </div>
                            <div style="color:gray; font-style:italic">Please enter the range between 0.35 and 1.5</div>
                        </div>

                        <!--Pending-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2 || commissionRequest.commissionRequestStatusTypeId == 4">
                            <div *ngIf="canApproveCommissions; else elseBlock">
                                <div>Enter sell multiplier for Ductless and Accessories in this opportunity.</div>
                                <div>
                                    <kendo-numerictextbox name="requestedMultiplierSplit"
                                                          [(ngModel)]="commissionRequest.requestedMultiplierSplit"
                                                          [min]="0.35" [max]="1.5" [step]="0.001" [decimals]="3" [format]="'n3'" [autoCorrect]="false"
                                                          (ngModelChange)="calculateDiscountAmountSplit($event)">
                                    </kendo-numerictextbox>
                                </div>
                                <div style="color:gray; font-style:italic">Please enter the range between 0.35 and 1.5</div>
                            </div>
                            <ng-template #elseBlock>
                                <div>Requested sell multiplier for Ductless and Accessories in this opportunity.</div>
                                <div>{{commissionRequest.requestedMultiplierSplit}}</div>
                            </ng-template>
                        </div>

                        <!--Approved-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                            <div>Approved sell multiplier for Ductless and Accessories in this opportunity.</div>
                            <div>{{commissionRequest.approvedMultiplierSplit}}</div>
                        </div>

                    </div>
                    <div class="col col-xs-12 col-md-8 commission-form-right-section">
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Total List</label>
                                <div>{{commissionRequest.approvedTotalsCommission.totalListSplit | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Purchase Order Amount</label>
                                <div>{{commissionRequest.totalNetSplit | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <!--New Record-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                                    <label>Commission Percent</label>
                                    <!--<div>{{commissionRequest.requestedCommissionPercentageSplit | number: '1.0-3'}}%</div>-->
                                    <div>{{commissionRequest.requestedCommissionPercentageSplit | percent: '1.0-4'}}</div>
                                </div>

                                <!--Pending-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2">
                                    <div *ngIf="canApproveCommissions; else elseBlock">
                                        <label>Commission Percent</label>
                                        <div>
                                            <!--<input type="number" style="width:60px;" required
                                                   [attr.disabled]="commissionManuallyInput? null : 'disabled'"
                                                   [(ngModel)]="commissionRequest.requestedCommissionPercentageSplit"
                                                   name="requestedCommissionPercentageSplit"
                                                   (ngModelChange)="commissionPercentageSplitChange($event)" />%-->
                                            <kendo-numerictextbox [attr.disabled]="commissionManuallyInput? null : 'disabled'" style="width:90px;"
                                                                  [(ngModel)]="commissionRequest.requestedCommissionPercentageSplit"
                                                                  name="requestedCommissionPercentageSplit"
                                                                  [min]="0" [max]="1" [step]="0.0001" [decimals]="4" [format]="'p'"
                                                                  (ngModelChange)="commissionPercentageSplitChange($event)">
                                            </kendo-numerictextbox>
                                        </div>
                                    </div>
                                    <ng-template #elseBlock>
                                        <label>Commission Percent</label>
                                        <!--<div>{{commissionRequest.requestedCommissionPercentageSplit | number: '1.0-3'}}%</div>-->
                                        <div>{{commissionRequest.requestedCommissionPercentageSplit | percent: '1.0-4'}}</div>
                                    </ng-template>
                                </div>

                                <!--Approved-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                    <label>Commission Percent</label>
                                    <div>{{commissionRequest.approvedCommissionPercentageSplit | percent: '1.0-4'}}</div>
                                </div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId != 6">
                                    <label>Commission Amount</label>
                                    <div>{{commissionRequest.requestedCommissionSplit | currency:'USD':true:'1.2-2'}}</div>
                                </div>

                                <!--Approved-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                    <label>Commission Amount</label>
                                    <div>{{commissionRequest.approvedCommissionSplit | currency:'USD':true:'1.2-2'}}</div>
                                </div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value Multiplier</label>
                                <div>{{commissionRequest.requestedNetMaterialMultiplierSplit | number: '1.0-3'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value</label>
                                <div>{{commissionRequest.requestedNetMaterialValueSplit | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-----------------Unitary----------------->
                <hr class="no-margin">
                <div class="row row-eq-height" *ngIf="commissionRequest.approvedTotalsCommission.totalListUnitary > 0" style="padding-left:15px; padding-right:15px;">

                    <div class="col col-xs-12 col-md-4 commission-form-left-section">
                        <!--New Request-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                            <div>Enter sell multiplier for Unitary in this opportunity?</div>
                            <div>
                                <kendo-numerictextbox name="requestedMultiplierUnitary"
                                                      [(ngModel)]="commissionRequest.requestedMultiplierUnitary"
                                                      [min]="0.7" [max]="1.0" [step]="0.01" [decimals]="2" [format]="'n2'" [autoCorrect]="false"
                                                      (ngModelChange)="calculateDiscountAmountUnitary($event)">
                                </kendo-numerictextbox>
                            </div>
                            <div style="color:gray; font-style:italic">Please enter the range between 0.7 and 1.0</div>
                        </div>

                        <!--Pending-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2 || commissionRequest.commissionRequestStatusTypeId == 4">
                            <div *ngIf="canApproveCommissions; else elseBlock">
                                <div>Enter sell multiplier for Unitary and Accessories in this opportunity.</div>
                                <div>
                                    <kendo-numerictextbox name="requestedMultiplierUnitary"
                                                          [(ngModel)]="commissionRequest.requestedMultiplierUnitary"
                                                          [min]="0.7" [max]="1.0" [step]="0.01" [decimals]="2" [format]="'n2'" [autoCorrect]="false"
                                                          (ngModelChange)="calculateDiscountAmountUnitary($event)">
                                    </kendo-numerictextbox>
                                </div>
                                <div style="color:gray; font-style:italic">Please enter the range between 0.7 and 1.0</div>
                            </div>
                            <ng-template #elseBlock>
                                <div>Requested sell multiplier for Unitary and Accessories in this opportunity.</div>
                                <div>{{commissionRequest.requestedMultiplierUnitary}}</div>
                            </ng-template>
                        </div>

                        <!--approved-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                            <div>Approved sell multiplier for Unitary and Accessories in this opportunity.</div>
                            <div>{{commissionRequest.approvedMultiplierUnitary}}</div>
                        </div>

                    </div>
                    <div class="col col-xs-12 col-md-8 commission-form-right-section">
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Total List</label>
                                <div>{{commissionRequest.approvedTotalsCommission.totalListUnitary | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Purchase Order Amount</label>
                                <div>{{commissionRequest.totalNetUnitary | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <!--New Record-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                                    <label>Commission Percent</label>
                                    <!--<div>{{commissionRequest.requestedCommissionPercentageUnitary | number: '1.0-3'}}%</div>-->
                                    <div>{{commissionRequest.requestedCommissionPercentageUnitary | percent: '1.0-4'}}</div>
                                </div>

                                <!--Pending-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2">
                                    <div *ngIf="canApproveCommissions; else elseBlock">
                                        <label>Commission Percent</label>
                                        <div>
                                            <!--<input type="number" style="width:60px;" required
                                                   [attr.disabled]="commissionManuallyInput? null : 'disabled'"
                                                   [(ngModel)]="commissionRequest.requestedCommissionPercentageUnitary"
                                                   name="requestedCommissionPercentageUnitary"
                                                   (ngModelChange)="commissionPercentageUnitaryChange($event)" />%-->
                                            <kendo-numerictextbox [attr.disabled]="commissionManuallyInput? null : 'disabled'" style="width:90px;"
                                                                  [(ngModel)]="commissionRequest.requestedCommissionPercentageUnitary"
                                                                  name="requestedCommissionPercentageUnitary"
                                                                  [min]="0" [max]="1" [step]="0.0001" [decimals]="4" [format]="'p'"
                                                                  (ngModelChange)="commissionPercentageUnitaryChange($event)">
                                            </kendo-numerictextbox>
                                        </div>
                                    </div>
                                    <ng-template #elseBlock>
                                        <label>Commission Percent</label>
                                        <!--<div>{{commissionRequest.requestedCommissionPercentageUnitary | number: '1.0-3'}}%</div>-->
                                        <div>{{commissionRequest.requestedCommissionPercentageUnitary | percent: '1.0-4'}}</div>
                                    </ng-template>
                                </div>

                                <!--Approved-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                    <label>Commission Percent</label>
                                    <div>{{commissionRequest.approvedCommissionPercentageUnitary | percent: '1.0-4'}}</div>
                                </div>
                            </div>

                            <div class="col col-xs-12 col-md-12">
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId != 6">
                                    <label>Commission Amount</label>
                                    <div>{{commissionRequest.requestedCommissionUnitary | currency:'USD':true:'1.2-2'}}</div>
                                </div>

                                <!--Approved-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                    <label>Commission Amount</label>
                                    <div>{{commissionRequest.approvedCommissionUnitary | currency:'USD':true:'1.2-2'}}</div>
                                </div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value Multiplier</label>
                                <div>{{commissionRequest.requestedNetMaterialMultiplierUnitary | number: '1.0-3'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value</label>
                                <div>{{commissionRequest.requestedNetMaterialValueUnitary | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-----------------LC Package----------------->
                <hr class="no-margin">
                <div class="row row-eq-height" *ngIf="commissionRequest.approvedTotalsCommission.totalListLCPackage > 0" style="padding-left:15px; padding-right:15px;">
                    <div class="col col-xs-12 col-md-4 commission-form-left-section">
                        <!--New Request-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                            <div>Enter sell multiplier for LC Package in this opportunity?</div>
                            <div>
                                <kendo-numerictextbox name="requestedMultiplierLCPackage"
                                                      [(ngModel)]="commissionRequest.requestedMultiplierLCPackage"
                                                      [min]="0.75" [max]="1.0" [step]="0.01" [decimals]="2" [format]="'n2'" [autoCorrect]="false"
                                                      (ngModelChange)="calculateDiscountAmountLCPackage($event)">
                                </kendo-numerictextbox>
                            </div>
                            <div style="color:gray; font-style:italic">Please enter the range between 0.75 and 1.0</div>

                        </div>

                        <!--Pending-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2 || commissionRequest.commissionRequestStatusTypeId == 4">
                            <div *ngIf="canApproveCommissions; else elseBlock">
                                <div>Enter sell multiplier for LC Package and Accessories in this opportunity.</div>
                                <div>
                                    <kendo-numerictextbox name="requestedMultiplierLCPackage"
                                                          [(ngModel)]="commissionRequest.requestedMultiplierLCPackage"
                                                          [min]="0.75" [max]="1.0" [step]="0.01" [decimals]="2" [format]="'n2'" [autoCorrect]="false"
                                                          (ngModelChange)="calculateDiscountAmountLCPackage($event)">
                                    </kendo-numerictextbox>
                                </div>
                                <div style="color:gray; font-style:italic">Please enter the range between 0.75 and 1.0</div>
                            </div>
                            <ng-template #elseBlock>
                                <div>Requested sell multiplier for LC Package and Accessories in this opportunity.</div>
                                <div>{{commissionRequest.requestedMultiplierLCPackage}}</div>
                            </ng-template>
                        </div>

                        <!--approved-->
                        <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                            <div>Approved sell multiplier for LC Package and Accessories in this opportunity.</div>
                            <div>{{commissionRequest.approvedMultiplierLCPackage}}</div>
                        </div>

                    </div>
                    <div class="col col-xs-12 col-md-8 commission-form-right-section">
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Total List</label>
                                <div>{{commissionRequest.approvedTotalsCommission.totalListLCPackage | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Purchase Order Amount</label>
                                <div>{{commissionRequest.totalNetLCPackage | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0">
                                    <label>Commission Percent</label>
                                    <!--<div>{{commissionRequest.requestedCommissionPercentageLCPackage | number: '1.0-3'}}%</div>-->
                                    <div>{{commissionRequest.requestedCommissionPercentageLCPackage | percent: '1.0-4'}}</div>
                                </div>

                                <!--Pending-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2">
                                    <div *ngIf="canApproveCommissions; else elseBlock">
                                        <label>Commission Percent</label>
                                        <div>
                                            <!--<input type="number" style="width:60px;" required
                                                   [attr.disabled]="commissionManuallyInput? null : 'disabled'"
                                                   [(ngModel)]="commissionRequest.requestedCommissionPercentageLCPackage"
                                                   name="requestedCommissionPercentageLCPackage"
                                                   (ngModelChange)="commissionPercentageLCPackageChange($event)" />%-->
                                            <kendo-numerictextbox [attr.disabled]="commissionManuallyInput? null : 'disabled'" style="width:90px;"
                                                                  [(ngModel)]="commissionRequest.requestedCommissionPercentageLCPackage"
                                                                  name="requestedCommissionPercentageLCPackage"
                                                                  [min]="0" [max]="1" [step]="0.0001" [decimals]="4" [format]="'p'"
                                                                  (ngModelChange)="commissionPercentageLCPackageChange($event)">
                                            </kendo-numerictextbox>
                                        </div>
                                    </div>
                                    <ng-template #elseBlock>
                                        <label>Commission Percent</label>
                                        <!--<div>{{commissionRequest.requestedCommissionPercentageLCPackage | number: '1.0-3'}}%</div>-->
                                        <div>{{commissionRequest.requestedCommissionPercentageLCPackage | percent: '1.0-4'}}</div>
                                    </ng-template>
                                </div>

                                <!--Approved-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                    <label>Commission Percent</label>
                                    <div>{{commissionRequest.approvedCommissionPercentageLCPackage | percent: '1.0-4'}}</div>
                                </div>

                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId != 6">
                                    <label>Commission Amount</label>
                                    <div>{{commissionRequest.requestedCommissionLCPackage | currency:'USD':true:'1.2-2'}}</div>
                                </div>

                                <!--Approved-->
                                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                    <label>Commission Amount</label>
                                    <div>{{commissionRequest.approvedCommissionLCPackage | currency:'USD':true:'1.2-2'}}</div>
                                </div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value Multiplier</label>
                                <div>{{commissionRequest.requestedNetMaterialMultiplierLCPackage | number: '1.0-3'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value</label>
                                <div>{{commissionRequest.requestedNetMaterialValueLCPackage | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-----------------TOTALS----------------->
                <hr class="no-margin">
                <div class="row row-eq-height" *ngIf="commissionRequest.approvedTotalsCommission.totalList > 0" style="padding-left:15px; padding-right:15px;">
                    <div class="col col-xs-12 col-md-4 commission-form-left-section">
                        <h4>TOTAL COMMISSION</h4>
                        <label>Total Net Multiplier</label>
                        <div>{{commissionRequest.requestedMultiplier | number: '1.0-3'}}</div>
                    </div>
                    <div class="col col-xs-12 col-md-8 commission-form-right-section lightgreycell">
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Total List</label>
                                <div>{{commissionRequest.approvedTotalsCommission.totalList | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Purchase Order Amount</label>
                                <div>{{commissionRequest.totalNet| currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <!--New/Pending-->
                            <div class="col col-xs-12 col-md-12" *ngIf="commissionRequest.commissionRequestStatusTypeId != 6">
                                <label>Commission Percent</label>
                                <!--<div>{{commissionRequest.requestedCommissionPercentage | number: '1.0-3'}}%</div>-->
                                <div>{{commissionRequest.requestedCommissionPercentage | percent: '1.0-4'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12" *ngIf="commissionRequest.commissionRequestStatusTypeId != 6">
                                <label>Commission Amount</label>
                                <div>{{commissionRequest.requestedCommissionTotal | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                            <!--Approved-->
                            <div class="col col-xs-12 col-md-12" *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                <label>Commission Percent</label>
                                <div>{{commissionRequest.approvedCommissionPercentage | percent: '1.0-4'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12" *ngIf="commissionRequest.commissionRequestStatusTypeId == 6">
                                <label>Commission Amount</label>
                                <div>{{commissionRequest.approvedCommissionTotal | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                        <div class="col col-xs-12 col-md-4">
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value Multiplier</label>
                                <div>{{commissionRequest.requestedNetMaterialValueMultiplier| number: '1.0-3'}}</div>
                            </div>
                            <div class="col col-xs-12 col-md-12">
                                <label>Net Material Value</label>
                                <div>{{commissionRequest.requestedNetMaterialValue | currency:'USD':true:'1.2-2'}}</div>
                            </div>
                        </div>
                    </div>

                </div>

                <hr class="no-margin" />
                <div class="row row-eq-height" *ngIf="commissionRequest.approvedTotalsCommission.totalList > 0" style="padding-left:15px; padding-right:15px;">
                    <div class="col col-xs-12 col-md-5 commission-form-left-section">
                        <label>Total revised Rep/Dist selling price as aresult of Commission</label>
                    </div>
                    <div class="col col-xs-12 col-md-7 commission-form-right-section lightgreycell totalcell" style="padding:10px 10px 10px 35px;">
                        <div>{{commissionRequest.totalRevised | currency:'USD':true:'1.2-2'}}</div>
                    </div>

                </div>

                <!--Notes-->
                <hr style="margin:0px 0px 20px 0px;" />
                <div class="row no-gutters">
                    <div class="form-group col-md-12 padding-15">
                        <label class="control-label required">Any further information or reason for commission request</label>
                        <textarea class="form-control" name="notes"
                                  [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                  [(ngModel)]="commissionRequest.notes" rows="2" required></textarea>
                    </div>
                </div>

                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2 || commissionRequest.commissionRequestStatusTypeId == 4 || commissionRequest.commissionRequestStatusTypeId == 6" class="row no-gutters border-bottom">
                    <div class="form-group col-md-12 padding-15">
                        <label class="control-label required">Response from approval team:</label>
                        <textarea class="form-control" required name="responseNotes"
                                  [attr.disabled]="!canApproveCommissions ? 'disabled' : null"
                                  [(ngModel)]="commissionRequest.responseNotes" rows="2"></textarea>
                    </div>
                </div>

                <!--Email List-->
                <hr />
                <div class="row no-gutters">
                    <div class="form-group col-md-12 padding-15">
                        <label class="control-label">Enter Daikin City users' emails you want to notify about this request. Place commas between each email</label>
                        <textarea class="form-control" name="emailsList"
                                  [attr.disabled]="commissionRequest.commissionRequestStatusTypeId != 0 ? 'disabled' : null"
                                  [(ngModel)]="commissionRequest.emailsList" rows="2"></textarea>
                    </div>
                </div>
            </fieldset>

            <!--Submit-->
            <fieldset>
                <!--New Request-->
                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 0" class="text-center" style="padding-top:20px;">
                    <a class="btn btn-default" href="/v2/#/quote/{{commissionRequest.quoteId}}/existingRecord" style="width:70px;">Cancel</a>
                    <button class="btn btn-primary" style="width:70px;" [disabled]="commissionRequestForm.invalid" (click)="submit()">Submit</button>
                </div>

                <!--Pending-->
                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 2" class="text-center" style="padding-top:20px;">
                    <div *ngIf="canApproveCommissions; else elseBlock">
                        <button class="btn btn-default" (click)="reject()">Reject Request</button>
                        <button class="btn btn-primary" [disabled]="commissionRequestForm.invalid" (click)="approve()">Approve Request</button>
                    </div>
                    <ng-template #elseBlock>
                        <!--<a class="btn btn-default" href="/v2/#/quote/{{commissionRequest.quoteId}}/existingRecord">Back To Quote</a>-->
                        <button class="btn btn-default" (click)="delete()">Delete Request</button>
                    </ng-template>
                </div>
                <!--Rejected-->
                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 4" class="text-center" style="padding-top:20px;">
                    <div *ngIf="canApproveCommissions; else elseBlock">
                        <button class="btn btn-primary" [disabled]="commissionRequestForm.invalid" (click)="approve()">Approve Request</button>
                    </div>
                    <ng-template #elseBlock>
                        <a class="btn btn-default" href="/v2/#/quote/{{commissionRequest.quoteId}}/existingRecord">Back To Quote</a>
                    </ng-template>
                </div>
                <!--Approved-->
                <div *ngIf="commissionRequest.commissionRequestStatusTypeId == 6" class="text-center" style="padding-top:20px;">
                    <div *ngIf="canApproveCommissions; else elseBlock">
                        <button class="btn btn-default" (click)="reject()">Reject Request</button>
                    </div>
                    <ng-template #elseBlock>
                        <a class="btn btn-default" href="/v2/#/quote/{{commissionRequest.quoteId}}/existingRecord">Back To Quote</a>
                    </ng-template>
                </div>

            </fieldset>



        </form>
    </div>

</div>

<!-- Modal -->
<edit-project-location *ngIf="commissionRequest" [(project)]="commissionRequest.project"></edit-project-location>

<!-- Modal -->
<edit-customer-address *ngIf="commissionRequest" [(project)]="commissionRequest.project"></edit-customer-address>

<!-- Modal -->
<edit-seller-address *ngIf="commissionRequest" [(project)]="commissionRequest.project"></edit-seller-address>


<!--Print Modal -->
<div *ngIf="commissionRequest" id="printModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">SHOW COST PRICING</h4>
            </div>
            <div class="modal-body">
                <p>Should cost pricing be included in this print report?</p>
            </div>
            <div class="modal-footer">
                <a href="/Document/CommissionRequestPrint/{{commissionRequest.commissionRequestId}}?QuoteId={{commissionRequest.quoteId}}&ProjectId={{commissionRequest.projectId}}" target="_blank" onclick="$('#printModal').modal('hide')" class="btn btn-default">No</a>
                <a href="/Document/CommissionRequestPrintWithCostPricing/{{commissionRequest.commissionRequestId}}?QuoteId={{commissionRequest.quoteId}}&ProjectId={{commissionRequest.projectId}}" target="_blank" onclick="$('#printModal').modal('hide')" class="btn btn-default">Yes</a>
            </div>
        </div>

    </div>
</div>

<!--Export Modal -->
<div *ngIf="commissionRequest" id="exportModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">SHOW COST PRICING</h4>
            </div>
            <div class="modal-body">
                <p>Should cost pricing be included in this export?</p>
            </div>
            <div class="modal-footer">
                <a href="/ProjectDashboard/CommissionRequestExport?CommissionRequestId={{commissionRequest.commissionRequestId}}&ProjectId={{commissionRequest.projectId}}&QuoteId={{commissionRequest.quoteId}}" target="_blank" onclick="$('#exportModal').modal('hide')" class="btn btn-default">No</a>
                <a href="/ProjectDashboard/CommissionRequestExportWithCostPricing?CommissionRequestId={{commissionRequest.commissionRequestId}}&ProjectId={{commissionRequest.projectId}}&QuoteId={{commissionRequest.quoteId}}" target="_blank" onclick="$('#exportModal').modal('hide')" class="btn btn-default">Yes</a>
            </div>
        </div>

    </div>
</div>
