@using System.IO
@model List<MaintenancePageModel>

@{
    ViewBag.Title = "Maintenance Config";
    var user = (ViewData["CurrentUser"] as UserSessionModel) ?? new UserSessionModel();
}
@section Page_Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/css/bootstrap-datepicker3.standalone.css">
 
    @Styles.Render("~/Content/css/978", "~/Content/css/tablestyles", "~/Content/css/tabbars", "~/Content/css/adminstyles")
}

@section scripts{
    @Scripts.Render("~/bundles/scripts/tablehelpers", "~/bundles/scripts/confirmmodal")

    <!-- moment.js must be loaded first -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.js"></script>

    <!-- bootstrap-datetimepicker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
}
@Html.Partial("_CityCMSTabsPartial")
<div class="section t-flush b-flush">
    <div class="item-strap btm-bdr">
        <div class="itemname">
            <h1>Admin Maintenance Configuration</h1>
        </div>
    </div>
</div>
<br />
@using (Html.BeginForm())
{
<div class="section form">
    <div class="row">
        <table>
            <tr>
                <td style="padding-left:20px;">
                    <label class="required">Text</label>
                </td>

                <td style="padding-left:10px;">
                    @Html.TextArea("MaintenanceText", null, new { @class = "full", cols = "20", rows = "5", wrap = "virtual" })
                </td>
            </tr>
        </table>
    </div>
    <br />
    <div class="row">
        <table>
            <tr>
                <td style="padding-left:20px;">
                    <label class="required">Start Time</label>
                </td>

                <td style="padding-left:10px;">
                    @Html.TextBox("StartTime", null, new
                    {
                        @class = "form-control datepicker",
                        placeholder = "Enter start time here..."
                    })
                </td>
            </tr>
        </table>
    </div>
    <br />
    <div class="row">
        <table>
            <tr>
                <td style="padding-left:20px;">
                    <label class="required">End Time</label>
                </td>

                <td style="padding-left:10px;">
                    @Html.TextBox("EndTime", null, new
                    {
                        @class = "form-control datepicker",
                        placeholder = "Enter end time here..."
                    })
                </td>
            </tr>
        </table>
    </div>

</div>

<div class="section action c-align">
    <input type="submit" value="Save Changes" class="submit-btn">
</div>

}
<div class="section form">
    <div class="row">
        <div class="r-col12">
            <table class="tbl" style="background-color: #fff;">
                <thead>
                    <tr>
                        <th class="Actions">&nbsp;</th>
                        <th>Maintenance Text</th>
                        <th class="c-align">Start Time</th>
                        <th class="c-align">End Time</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td class="actions">
                                <div>
                                    <ul>
                                        <li>
                                            <a href="@Url.Action("MaintenanceConfigEdit", "CityCMS",
                                                        new { configId = item.MaintenanceId })">Edit</a>
                                        </li>
                                        <li>
                                            <a href="@Url.Action("MaintenanceConfigDelete", "CityCMS",
                                                       new { configId = item.MaintenanceId })">Delete</a>
                                        </li>
                                    </ul>
                                </div>
                            </td>
                            <td>@Html.Raw(item.MaintenanceText)</td>
                            <td class="c-align">
                                @item.StartTime.ToString()
                            </td>

                            <td class="c-align">
                                @item.EndTime.ToString()

                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="row-end">&nbsp;</div>
    </div>
</div>

<script type="text/javascript">
    $(function () { // will trigger when the document is ready
        $('.datepicker').datetimepicker();
        $('.datepicker').val();
        $('.full').val();
    });
</script>


@*//** dateFormat: 'dd-m-yy',** // date format goes here
            //showOn: 'button',
            //buttonImage: '../chassis/images/calendar.gif',
            //buttonImageOnly: true,
            //minDate: 0,
            //maxDate: '+5Y',
            //duration: '',
            //<c: if test="${formIsReadonly or form.newsItemId == '-1'}">
    disabled: true,</c:if>
    //    constrainInput: false,*@
